<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:p="http://www.springframework.org/schema/p"
	xsi:schemaLocation="http://www.springframework.org/schema/beans
                    http://www.springframework.org/schema/beans/spring-beans-3.0.xsd">

	<bean id="Planner-FormView" parent="Planner-FormView-parent" />
	<bean abstract="true" id="Planner-FormView-parent" parent="MyPlanFormView">
		<property name="id" value="Planner-FormView" />
		<property name="cssClasses">
			<list merge="true">
				<value>myplan-view</value>
				<value>ks-plan-View</value>
			</list>
		</property>
		<property name="additionalCssFiles">
			<list>
				<value>ks-ap/css/sb.cart.css</value>
			</list>
		</property>
		<property name="additionalScriptFiles">
			<list>
				<value>ks-myplan/plugins/jcarousellite.js</value>
				<value>ks-ap/scripts/plan/planner.js</value>
				<value>ks-ap/scripts/sb/cart.js</value>
			</list>
		</property>
		<property name="items">
			<list>
				<bean parent="Uif-Page" p:id="plan-page">
					<property name="cssClasses">
						<list merge="true">
							<value>ks-plan-View-page</value>
						</list>
					</property>
					<property name="layoutManager">
						<bean parent="Uif-HorizontalBoxLayout" />
					</property>
					<property name="items">
						<list>
							<ref bean="planner_lookup_wrapper" />
							<ref bean="planner_menu_advisor" />
							<ref bean="planner_menu_completed" />
							<ref bean="planner_menu_cart" />
							<ref bean="planner_menu_planned" />
							<ref bean="planner_menu_planned_cartavailable" />
							<ref bean="planner_menu_backup" />
							<ref bean="planner_menu_completed_backup" />
							<ref bean="planner_item_template" />
						</list>
					</property>
				</bean>
			</list>
		</property>
		<property name="footer.render" value="false" />
		<property name="formClass" value="org.kuali.student.ap.plan.PlannerForm" />
	</bean>

	<bean id="PlannerLoad-FormView" parent="MyPlanBaseFormView">
		<property name="id" value="PlannerLoad-FormView" />
		<property name="items">
			<list>
				<bean parent="Uif-Page" p:id="planner_courses_detail_page">
					<property name="innerViewWrapperId" value="planner_load_inner" />
					<property name="layoutManager">
						<bean parent="Uif-HorizontalBoxLayout" />
					</property>
					<property name="dataAttributes">
						<map>
							<entry key="focustermindex" value="@{focusTermIndex}" />
						</map>
					</property>
					<property name="items">
						<list>
							<ref bean="planner_courses_detail" />
						</list>
					</property>
				</bean>
			</list>
		</property>
		<property name="footer.render" value="false" />
	</bean>

	<bean id="planner_lookup_wrapper" parent="Uif-VerticalBoxSubSection">
		<property name="cssClasses">
			<list merge="true">
				<value>myplan-plan-loader</value>
				<value>ks-plan-Loader</value>
			</list>
		</property>
		<property name="validationMessages.render" value="false" />
		<property name="onDocumentReadyScript"
			value="ksapLoadPlannerItems('@{#ConfigProperties['ks.myplan.externalizable.images.url']}')" />
	</bean>

	<bean id="planner_menu_advisor" parent="Uif-VerticalBoxSubSection"
		p:cssClasses="fl-container-150">
		<property name="layoutManager.cssClasses">
			<list merge="true">
				<value>ks-plan-ContextMenu</value>
			</list>
		</property>
		<property name="hidden" value="true" />
		<property name="items">
			<list>
				<ref bean="planner_menu_course_summary" />
			</list>
		</property>
	</bean>

	<bean id="planner_menu_completed" parent="Uif-VerticalBoxSubSection"
		p:cssClasses="fl-container-150">
		<property name="layoutManager.cssClasses">
			<list merge="true">
				<value>ks-plan-ContextMenu</value>
			</list>
		</property>
		<property name="hidden" value="true" />
		<property name="items">
			<list>
				<ref bean="planner_menu_course_summary" />
				<ref bean="planner_menu_copy_course" />
			</list>
		</property>
	</bean>

	<bean id="planner_menu_course_summary" parent="Uif-ActionLink"
		p:actionLabel="View course summary" p:title="View course summary">
		<property name="actionScript"
			value="ksapPlannerOpenDialog('planner_course_summary','planner','startDialog', this, e);" />
	</bean>

	<bean id="planner_menu_copy_course" parent="Uif-ActionLink"
		p:actionLabel="Copy to another term" p:title="Copy to another term">
		<property name="actionScript"
			value="ksapPlannerOpenDialog('planner_copy_course','planner','startDialog', this, e);" />
	</bean>

	<bean id="planner_menu_cart" parent="Uif-VerticalBoxSubSection"
		p:cssClasses="fl-container-150">
		<property name="layoutManager.cssClasses">
			<list merge="true">
				<value>ks-plan-ContextMenu</value>
			</list>
		</property>
		<property name="hidden" value="true" />
		<property name="items">
			<list>
				<ref bean="planner_menu_course_summary" />
				<!--  <ref bean="planner_menu_copy_plan_item" /> -->
				<ref bean="planner_menu_remove_from_cart" />
				<bean parent="Uif-Message" 
					p:messageText="Cannot Undo" p:style="margin:0;"
					p:cssClasses="fl-text-gray fl-font-size-90 ks-plan-ContextMenu-note"/>
			</list>
		</property>
	</bean>

	<bean id="planner_menu_copy_plan_item" parent="Uif-ActionLink"
		p:actionLabel="Copy to another term" p:title="Copy to another term">
		<property name="actionScript"
			value="ksapPlannerOpenDialog('planner_copy_plan_item','planner','startDialog', this, e);" />
	</bean>

	<bean id="planner_menu_remove_from_cart" parent="Uif-ActionLink"
		p:actionLabel="Remove from shopping cart" p:title="Remove from shopping cart">
		<property name="cssClasses">
			<list merge="true">
				<value>ksap-noMargin</value>
			</list>
		</property>
		<property name="actionScript"
			value="ksapPlannerOpenDialog('sb_cart_remove','sb/cart','remove', this, e);" />
	</bean>

	<bean id="planner_menu_planned" parent="Uif-VerticalBoxSubSection"
		p:cssClasses="fl-container-150">
		<property name="layoutManager.cssClasses">
			<list merge="true">
				<value>ks-plan-ContextMenu</value>
			</list>
		</property>
		<property name="hidden" value="true" />
		<property name="items">
			<list>
				<ref bean="planner_menu_course_summary" />
				<ref bean="planner_menu_edit_plan_item" />
				<ref bean="planner_menu_mark_as_backup" />
				<ref bean="planner_menu_move_plan_item" />
				<ref bean="planner_menu_copy_plan_item" />
				<ref bean="planner_menu_delete_plan_item" />
				<bean parent="Uif-Message" p:messageText="Cannot Undo" p:style="margin:0;"
					p:cssClasses="fl-text-gray fl-font-size-90 ks-plan-ContextMenu-note" />
			</list>
		</property>
	</bean>

	<bean id="planner_menu_planned_cartavailable" parent="Uif-VerticalBoxSubSection"
		p:cssClasses="fl-container-150">
		<property name="layoutManager.cssClasses">
			<list merge="true">
				<value>ks-plan-ContextMenu</value>
			</list>
		</property>
		<property name="hidden" value="true" />
		<property name="items">
			<list>
				<ref bean="planner_menu_course_summary" />
				<ref bean="planner_menu_edit_plan_item" />
				<ref bean="planner_menu_add_to_cart"/>
				<ref bean="planner_menu_mark_as_backup" />
				<ref bean="planner_menu_move_plan_item" />
				<ref bean="planner_menu_copy_plan_item" />
				<ref bean="planner_menu_delete_plan_item" />
				<bean parent="Uif-Message" p:messageText="Cannot Undo" p:style="margin:0;"
					p:cssClasses="fl-text-gray fl-font-size-90 ks-plan-ContextMenu-note" />
			</list>
		</property>
	</bean>

	<bean id="planner_menu_edit_plan_item" parent="Uif-ActionLink"
		p:actionLabel="Edit plan item" p:title="Edit plan item">
		<property name="actionScript"
			value="ksapPlannerOpenDialog('planner_edit_plan_item','planner','startDialog', this, e);" />
	</bean>

	<bean id="planner_menu_add_to_cart" parent="Uif-ActionLink"
		p:actionLabel="Add to shopping cart" p:title="Add to shopping cart">
		<property name="actionScript"
			value="ksapPlannerOpenDialog('sb_cart_add_from_plan','sb/cart','addFromPlan', this, e);" />
	</bean>

	<bean id="planner_menu_mark_as_backup" parent="Uif-ActionLink"
		p:actionLabel="Mark as backup course" p:title="Mark as backup course">
		<property name="actionScript" value="ksapPlannerUpdateType(true, this, e);" />
	</bean>

	<bean id="planner_menu_move_plan_item" parent="Uif-ActionLink"
		p:actionLabel="Move to another term" p:title="Move to another term">
		<property name="actionScript"
			value="ksapPlannerOpenDialog('planner_move_plan_item','planner','startDialog', this, e);" />
	</bean>

	<bean id="planner_menu_delete_plan_item" parent="Uif-ActionLink"
		p:actionLabel="Delete from plan" p:title="Delete from plan">
		<property name="cssClasses">
			<list merge="true">
				<value>ksap-noMargin</value>
			</list>
		</property>
		<property name="actionScript"
			value="ksapPlannerOpenDialog('planner_delete_plan_item','planner','startDialog', this, e);" />
	</bean>

	<bean id="planner_menu_backup" parent="Uif-VerticalBoxSubSection"
		p:cssClasses="fl-container-150">
		<property name="layoutManager.cssClasses">
			<list merge="true">
				<value>ks-plan-ContextMenu</value>
			</list>
		</property>
		<property name="hidden" value="true" />
		<property name="items">
			<list>
				<ref bean="planner_menu_course_summary" />
				<ref bean="planner_menu_edit_plan_item" />
				<!-- <ref bean="planner_menu_add_to_cart" /> -->
				<ref bean="planner_menu_mark_as_planned" />
				<ref bean="planner_menu_move_plan_item" />
				<ref bean="planner_menu_copy_plan_item" />
				<ref bean="planner_menu_delete_plan_item" />
				<bean parent="Uif-Message" p:messageText="Cannot Undo" p:style="margin:0;"
					p:cssClasses="fl-text-gray fl-font-size-90 ks-plan-ContextMenu-note" />
			</list>
		</property>
	</bean>

	<bean id="planner_menu_mark_as_planned" parent="Uif-ActionLink"
		p:actionLabel="Mark as planned course" p:title="Mark as planned course">
		<property name="actionScript" value="ksapPlannerUpdateType(false, this, e);" />
	</bean>

	<bean id="planner_menu_completed_backup" parent="Uif-VerticalBoxSubSection"
		p:cssClasses="fl-container-150">
		<property name="layoutManager.cssClasses">
			<list merge="true">
				<value>ks-plan-ContextMenu</value>
			</list>
		</property>
		<property name="hidden" value="true" />
		<property name="items">
			<list>
				<ref bean="planner_menu_course_summary" />
				<ref bean="planner_menu_copy_plan_item" />
				<ref bean="planner_menu_delete_plan_item" />
				<bean parent="Uif-Message" p:messageText="Cannot Undo" p:style="margin:0;"
					p:cssClasses="fl-text-gray fl-font-size-90 ks-plan-ContextMenu-note" />
			</list>
		</property>
	</bean>

	<bean id="planner_courses_detail" parent="planner_courses_detail_parent" />
	<bean id="planner_courses_detail_parent" parent="Uif-VerticalBoxSubSection"
		abstract="true" p:cssClasses="ks-plan-View-pageDetails">
		<property name="onDocumentReadyScript"
			value="ksapInitializePlannerItems(@{T(org.kuali.student.ap.framework.config.KsapFrameworkServiceLocator).getTermHelper().getNumberOfTermsInAcademicYear()})" />
		<property name="validationMessages.displayMessages" value="false" />
		<property name="items">
			<list>
				<bean parent="Uif-HorizontalBoxGroup">
					<property name="validationMessages.render" value="false" />
					<property name="cssClasses">
						<list merge="true">
							<value>myplan-plan-heading</value>
							<value>ks-plan-Header</value>
						</list>
					</property>
					<property name="items">
						<list>
							<bean parent="Uif-VerticalBoxGroup">
								<property name="cssClasses">
									<list merge="true">
										<value>ks-plan-Header-buttonWrapper</value>
										<value>ks-plan-Header-buttonWrapper--previous</value>
									</list>
								</property>
								<property name="validationMessages.render" value="false" />
								<property name="items">
									<list>
										<bean p:id="previous_year_button" parent="Uif-PrimaryActionButton"
											p:actionScript="" p:title="Previous Academic Year">
											<property name="actionImage">
												<bean parent="Uif-Image"
													p:source="@{#ConfigProperties['ks.myplan.externalizable.images.url']}pixel.gif">
													<property name="cssClasses">
														<list merge="true">
															<value>ks-plan-Header-buttonImage</value>
														</list>
													</property>
												</bean>
											</property>
											<property name="cssClasses">
												<list merge="true">
													<value>myplan-carousel-prev</value>
													<value>ks-plan-Header-button</value>
													<value>ks-plan-Header-button--previous</value>
												</list>
											</property>
										</bean>
									</list>
								</property>
							</bean>

							<bean parent="Uif-MessageField">
								<property name="cssClasses">
									<list merge="true">
										<value>myplan-plan-header</value>
										<value>ks-plan-Header-headline</value>
									</list>
								</property>
								<property name="message">
									<bean parent="Uif-Message" p:messageText="Academic Year" />
								</property>
							</bean>

							<bean parent="Uif-VerticalBoxGroup">
								<property name="cssClasses">
									<list merge="true">
										<value>ks-plan-Header-buttonWrapper</value>
										<value>ks-plan-Header-buttonWrapper--next</value>
									</list>
								</property>
								<property name="validationMessages.render" value="false" />
								<property name="items">
									<list>
										<bean p:id="next_year_button" parent="Uif-PrimaryActionButton"
											p:actionScript="" p:title="Next Academic Year">
											<property name="actionImage">
												<bean parent="Uif-Image"
													p:source="@{#ConfigProperties['ks.myplan.externalizable.images.url']}pixel.gif">
													<property name="cssClasses">
														<list merge="true">
															<value>ks-plan-Header-buttonImage</value>
														</list>
													</property>
												</bean>
											</property>
											<property name="cssClasses">
												<list merge="true">
													<value>myplan-carousel-next</value>
													<value>ks-plan-Header-button</value>
													<value>ks-plan-Header-button--next</value>
												</list>
											</property>
										</bean>
									</list>
								</property>
							</bean>
						</list>
					</property>
				</bean>
				<bean parent="Uif-HorizontalBoxGroup">
					<property name="validationMessages.render" value="false" />
					<property name="items">
						<list>
							<bean parent="Uif-Message" p:render="@{T(org.kuali.student.ap.framework.config.KsapFrameworkServiceLocator).getUserSessionHelper().isStudent()}"
								p:messageText="Create your plan by finding and adding courses to any term" />
							<bean parent="Uif-Message" p:render="@{T(org.kuali.student.ap.framework.config.KsapFrameworkServiceLocator).getUserSessionHelper().isAdviser()}"
								p:additionalCssClasses="ksap-planner-advisorwelcome"
								p:messageText="Viewing @{T(org.kuali.student.ap.framework.config.KsapFrameworkServiceLocator).getUserSessionHelper().studentName}'s planner" />
						</list>
					</property>
					<property name="cssClasses">
						<list merge="true">
							<value>ks-plan-Instructions</value>
						</list>
					</property>
				</bean>
				<ref bean="planner_courses_detail_list" />
			</list>
		</property>
	</bean>

	<bean id="planner_courses_detail_list" parent="planner_courses_detail_list-parent" />
	<bean id="planner_courses_detail_list-parent" parent="Uif-ListCollectionSection">
		<property name="validationMessages.render" value="false" />
		<property name="propertyName" value="terms" />
		<property name="collectionObjectClass" value="org.kuali.student.ap.plan.PlannerTerm" />
		<property name="layoutManager.lineGroupPrototype.header.render"
			value="true" />
		<property
			name="layoutManager.lineGroupPrototype.header.additionalCssClasses"
			value="ks-plan-TermsList-itemHeader" />
		<property name="layoutManager.lineGroupPrototype.headerText"
			value="@{#line.termName}" />
		<property name="layoutManager.lineGroupPrototype.validationMessages.render"
			value="false" />
		<property name="layoutManager.lineGroupPrototype.cssClasses">
			<list merge="true">
				<value>uif-group</value>
				<value>uif-boxGroup</value>
				<value>uif-verticalBoxGroup</value>
				<value>uif-boxSection</value>
				<value>@{#line.inProgress ? 'myplan-term-current' : (!#line.inProgress and #line.planning ? 'myplan-term-future' : 'myplan-term-past')}</value>
				<value>@{#line.planning ? 'open' : 'closed'}</value>
				<value>ks-plan-TermsList-item</value>
				<value>@{#line.inProgress ? 'ks-plan-TermsList-item--current' : (!#line.inProgress and #line.planning ? 'ks-plan-TermsList-item--future' : 'ks-plan-TermsList-item--past')}</value>
				<value>@{#line.planning ? 'ks-plan-TermsList-item--open' : 'ks-plan-TermsList-item--closed'}</value>
			</list>
		</property>
		<property name="layoutManager.lineGroupPrototype.style"
			value="width:@{588/T(org.kuali.student.ap.framework.config.KsapFrameworkServiceLocator).getTermHelper().getNumberOfTermsInAcademicYear()}px;
                  margin:0 @{20/T(org.kuali.student.ap.framework.config.KsapFrameworkServiceLocator).getTermHelper().getNumberOfTermsInAcademicYear()}px;" />
        <property name="layoutManager.lineGroupPrototype.header.rightGroup">
            <bean parent="Uif-HeaderRightGroup" p:cssClasses="ks-plan-Bucket ks-plan-Bucket--secondary"
                p:render="@{#line.buildAvailable and T(org.kuali.student.ap.framework.config.KsapFrameworkServiceLocator).getUserSessionHelper().isStudent()}">
                <property name="items">
                    <list>
                        <bean parent="Uif-ActionLink" p:actionLabel="Build Schedule"
                            p:actionScript="window.location='sb?termId=@{#line.termId}&amp;reset=true'+ksapAddGetParameters()"
                            p:cssClasses="ks-Button ks-Button--small" />
                    </list>
                </property>
            </bean>
        </property>
		<property name="layoutManager.lineGroupPrototype.header.lowerGroup">
			<bean parent="Uif-HorizontalBoxGroup" p:additionalCssClasses="ks-plan-TermNote">
				<property name="items">
					<list>
						<bean id="planner_menu_edit_term_note" parent="Uif-ActionLink"
							p:actionLabel="Edit term note" p:title="Edit Term Note"
							p:render="@{T(org.kuali.student.ap.framework.config.KsapFrameworkServiceLocator).getUserSessionHelper().isStudent()}"
							p:cssClasses="ks-plan-TermNote-editLabel">
							<property name="actionScript"
								value="ksapPlannerOpenDialog('planner_edit_term_note','planner','startDialog', this, e);" />
							<property name="dataAttributes">
								<map>
									<entry key="termid" value="@{#line.termId}" />
									<entry key="uniqueid" value="@{#line.uniqueId}" />
								</map>
							</property>
						</bean>
						<bean p:id="@{#line.uniqueId}_termnote_message" parent="Uif-Message">
							<property name="additionalCssClasses" value="ks-plan-TermNote-input" />
							<property name="messageText" value="@{#line.allTermNotesHtml}" />
							<property name="render" value="@{#line.allTermNotesHtml ne null}" />
						</bean>
						<bean p:id="@{#line.uniqueId}_termnote_message" parent="Uif-Message">
							<property name="additionalCssClasses" value="ks-plan-TermNote-input,ks-plan-TermNote-input-empty" />
							<property name="messageText" value="No term notes" />
							<property name="render" value="@{#line.allTermNotesHtml eq null}" />
						</bean>
					</list>
				</property>
			</bean>
		</property>
		<property name="header">
			<bean parent="Uif-HeaderFour" />
		</property>
		<property name="cssClasses">
			<list merge="true">
				<value>myplan-carousel-list</value>
				<value>myplan-remove-margin</value>
				<value>ks-plan-TermsList</value>
			</list>
		</property>
		<property name="header.render" value="true" />
		<property name="items">
			<list>
				<bean id="plan_base_atpId" parent="Uif-DataField"
					p:propertyName="termName" p:style="display: none;">
					<property name="fieldLabel.render" value="false" />
				</bean>

				<!-- 
				<bean p:id="@{#line.uniqueId}_plan_status" parent="Uif-InputField"
					p:propertyName="planning">
					<property name="control">
						<bean parent="Uif-HiddenControl" />
					</property>
				</bean>
				 -->

				<bean parent="Uif-VerticalFieldGroup">
					<property name="items">
						<list>
							<ref bean="planner_completed_collection" />
							<ref bean="planner_cart_collection" />
							<ref bean="planner_planned_collection" />
							<ref bean="planner_backup_collection" />
						</list>
					</property>
				</bean>
			</list>
		</property>
	</bean>

	<bean id="planner_item_template" p:id="planner_item_template" parent="Uif-VerticalBoxGroup" p:hidden="true">
		<property name="cssClasses">
			<list merge="true">
				<value>ks-plan-Bucket-collection</value>
				<value>uif-collectionItem</value>
				<value>uif-boxCollectionItem</value>
			</list>
		</property>
		<property name="items">
			<list>
				<bean p:id="__KSAP__UID__" parent="Uif-HorizontalFieldGroup" p:title="__KSAP__COURSETITLE__">
					<property name="onClickScript"
						value="openMenu('__KSAP__UID__', 'planner_menu___KSAP__TYPE____KSAP__MENUSUFFIX__', null, e,
								'.uif-collectionItem', 'fl-container-150 uif-boxLayoutHorizontalItem',
								{tail: {align:'top'}, align:'top', position:'right'}, false);" />
					<property name="cssClasses">
						<list merge="true">
							<value>myplan-course-valid</value>
							<value>ks-plan-Bucket-item</value>
							<value>ks-plan-Bucket-item--valid</value>
						</list>
					</property>
					<property name="dataAttributes">
						<map>
							<entry key="termid" value="__KSAP__TERMID__" />
							<entry key="courseid" value="__KSAP__COURSEID__" />
							<entry key="learningplanid" value="__KSAP__LEARNINGPLANID__" />
							<entry key="planitemid" value="__KSAP__PLANITEMID__" />
							<entry key="uniqueid" value="__KSAP__UID__" />
						</map>
					</property>
					<property name="items">
						<list>
							<bean p:id="__KSAP__UID___code" parent="Uif-MessageField">
								<property name="messageText" value="__KSAP__CODE__" />
								<property name="cssClasses">
									<list merge="true">
										<value>code</value>
										<value>ks-plan-Bucket-itemCode</value>
									</list>
								</property>
							</bean>
							<bean p:id="__KSAP__UID___credit" parent="Uif-MessageField">
								<property name="messageText" value="__KSAP__CREDITS__" />
								<property name="cssClasses">
									<list merge="true">
										<value>credit</value>
										<value>ks-plan-Bucket-itemCreditCount</value>
									</list>
								</property>
							</bean>
						</list>
					</property>
				</bean>
			</list>
		</property>
	</bean>
	
	<bean id="planner_item_collection" parent="Uif-StackedCollectionGroup" abstract="true">
		<property name="validationMessages.render" value="false" />
		<property name="header">
			<bean parent="Uif-HeaderSix" p:additionalCssClasses="ks-plan-Bucket-header" />
		</property>
		<property name="layoutManager.lineGroupPrototype.footer.render"
			value="false" />
		<property name="layoutManager.lineGroupPrototype.validationMessages.render"
			value="false" />
		<property name="layoutManager">
			<bean parent="Uif-StackedCollectionLayout-WithBoxItems">
				<property name="cssClasses">
					<list merge="true">
						<value>ks-plan-Bucket-collection</value>
					</list>
				</property>
				<property name="lineGroupPrototype">
					<bean parent="Uif-CollectionVerticalBoxItem" />
				</property>
			</bean>
		</property>
		<property name="dataAttributes">
			<map>
				<entry key="termid" value="@{#line.termId}" />
				<entry key="uniqueId" value="@{#line.uniqueId}" />
			</map>
		</property>
		<property name="renderAddLine" value="false" />
		<property name="renderLineActions" value="false" />
		<property name="bindingInfo.bindToForm" value="true" />
		<property name="disclosure.render" value="false" />
		<property name="collectionObjectClass" value="org.kuali.student.ap.plan.PlannerItem" />
		<property name="items">
			<list>
				<bean p:id="@{#line.uniqueId}" parent="Uif-HorizontalFieldGroup"
					p:title="@{#line.courseTitle}">
					<property name="group.validationMessages.render" value="false" />
					<property name="onClickScript"
						value="openMenu('@{#line.uniqueId}', 'planner_menu_@{#line.type}@{#line.menuSuffix}', null, e,
									'.uif-collectionItem', 'fl-container-150 uif-boxLayoutHorizontalItem', {tail: {align:'top'}, align:'top', position:'right'}, false);" />
					<property name="dataAttributes">
						<map>
							<entry key="termid" value="@{#line.termId}" />
							<entry key="courseid" value="@{#line.courseId}" />
							<entry key="learningplanid" value="@{#line.learningPlanId}" />
							<entry key="planitemid" value="@{#line.planItemId}" />
							<entry key="uniqueid" value="@{#line.uniqueId}" />
						</map>
					</property>
					<property name="cssClasses">
						<list merge="true">
							<value>myplan-course-valid</value>
							<value>ks-plan-Bucket-item</value>
							<value>ks-plan-Bucket-item--valid</value>
						</list>
					</property>
					<property name="items">
						<list>
							<bean parent="Uif-MessageField">
								<property name="messageText"
									value="@{#line.campusCode} @{#line.courseCode} @{#line.activityCode}" />
								<property name="cssClasses">
									<list merge="true">
										<value>code</value>
										<value>ks-plan-Bucket-itemCode</value>
									</list>
								</property>
							</bean>
							<bean parent="Uif-MessageField">
								<property name="messageText" value="@{#line.creditString}" />
								<property name="cssClasses">
									<list merge="true">
										<value>credit</value>
										<value>ks-plan-Bucket-itemCreditCount</value>
									</list>
								</property>
							</bean>
							<bean parent="Uif-MessageField" p:render="@{#line.grade ne null}">
								<property name="messageText" value="@{#line.grade}" />
								<property name="cssClasses">
									<list merge="true">
										<value>grade</value>
										<value>ks-plan-Bucket-itemGrade</value>
									</list>
								</property>
							</bean>
						</list>
					</property>
				</bean>
			</list>
		</property>
		<property name="collectionLookup.render" value="false" />
		<property name="collectionLookup.quickfinderAction.render" value="false" />
	</bean>

	<bean id="planner_completed_collection" parent="planner_item_collection"
		p:headerText="@{#line.completed ? 'Completed': (#line.academicRecord.size() gt 0 or !#line.planning)? 'Registered' : ''}"
		p:render="@{#line.completed or #line.academicRecord.size() gt 0 or !#line.planning}">
		<property name="propertyName" value="academicRecord" />
		<property name="header.rightGroup">
			<bean parent="Uif-HorizontalBoxGroup" p:additionalCssClasses="ks-plan-Bucket-headerHelpIcons">
				<property name="validationMessages.render" value="false" />
				<property name="items">
					<list>
						<ref bean="planner_completed_help_icon" />
						<ref bean="planner_registered_help_icon" />
					</list>
				</property>
			</bean>
		</property>
		<property name="header.lowerGroup">
			<bean parent="Uif-HorizontalBoxGroup" p:additionalCssClasses="ks-plan-Bucket-headerStatusIcons">
				<property name="validationMessages.render" value="false" />
				<property name="items">
					<list>
						<bean parent="Uif-Image"
							p:source="@{#ConfigProperties['ks.myplan.externalizable.images.url']}pixel.gif">
							<property name="cssClasses">
								<list merge="true">
									<value>@{#line.completed ? 'locked' : (#line.planning ?'unlocked' : 'locked')}</value>
									<value>myplan-registration-status</value>
									<value>ks-plan-Icon</value>
									<value>@{#line.completed ? 'ks-plan-Icon--locked' : (#line.planning ? 'ks-plan-Icon--unlocked' : 'ks-plan-Icon--locked')}</value>
								</list>
							</property>
						</bean>
					</list>
				</property>
			</bean>
		</property>
		<property name="layoutManager.lineGroupPrototype.footer.render"
			value="false" />
		<property name="layoutManager.lineGroupPrototype.validationMessages.render"
			value="false" />
		<property name="layoutManager">
			<bean parent="Uif-StackedCollectionLayout-WithBoxItems">
				<property name="cssClasses">
					<list merge="true">
						<value>ks-plan-Bucket-collection</value>
					</list>
				</property>
				<property name="lineGroupPrototype">
					<bean parent="Uif-CollectionVerticalBoxItem" />
				</property>
			</bean>
		</property>
		<property name="cssClasses">
			<list merge="false">
				<value>myplan-carousel-term</value>
				<value>myplan-term-completed</value>
				<value>ks-plan-Bucket</value>
			</list>
		</property>
		<property name="dataAttributes">
			<map merge="true">
				<entry key="plantype" value="completed" />
			</map>
		</property>
		<property name="footer">
			<bean parent="planner_credits_footer" p:render="@{!#line.planning}">
				<property name="items">
					<list merge="true">
						<bean parent="planner_term_total_credits_text" p:messageText="@{#line.completedCreditString}" />
					</list>
				</property>
			</bean>
		</property>
	</bean>

	<bean id="planner_cart_collection" parent="planner_item_collection"
			p:headerText="Cart" p:render="@{#line.cartAvailable}">
		<property name="validationMessages.render" value="false" />
		<property name="propertyName" value="cartList" />
		<property name="header.rightGroup">
			<bean parent="Uif-HorizontalBoxGroup" p:additionalCssClasses="ks-plan-Bucket-headerHelpIcons">
				<property name="validationMessages.render" value="false" />
				<property name="items">
					<list>
						<ref bean="planner_cart_help_icon" />
					</list>
				</property>
			</bean>
		</property>
		<property name="cssClasses">
			<list merge="false">
				<value>myplan-carousel-term</value>
				<value>@{#line.termId.replaceAll("\.","-")}</value>
				<value>myplan-term-cart</value>
				<value>ks-plan-Bucket</value>
			</list>
		</property>
		<property name="dataAttributes">
			<map merge="true">
				<entry key="plantype" value="cart" />
			</map>
		</property>
		<property name="footer">
			<bean parent="Uif-VerticalBoxGroup">
				<property name="validationMessages.render" value="false" />
				<property name="items">
					<list>
						<bean p:id="@{#line.uniqueId}_cart_no_courses" parent="planner_term_no_courses">
							<property name="cssClasses">
								<list merge="true">
									<value>ks-plan-Bucket-footer-@{#line.cartList.size() eq 0 ? 'show' : 'hide'}"</value>
								</list>
							</property>
						</bean>
						<bean p:id="@{#line.uniqueId}_cart_units" parent="planner_credits_footer">
							<property name="cssClasses">
								<list merge="true">
									<value>ks-plan-Bucket-footer-@{#line.cartList.size() gt 0 ? 'show' : 'hide'}"</value>
								</list>
							</property>
							<property name="items">
								<list merge="true">
									<bean parent="planner_term_total_credits_text" p:messageText="@{#line.cartCreditString}" />
								</list>
							</property>
						</bean>
					</list>
				</property>
			</bean>
		</property>
	</bean>

	<bean id="planner_planned_collection" parent="planner_item_collection" p:headerText="Planned">
		<property name="propertyName" value="plannedList" />
		<property name="validationMessages.render" value="false" />
		<property name="header.rightGroup">
			<bean parent="Uif-HorizontalBoxGroup" p:additionalCssClasses="ks-plan-Bucket-headerHelpIcons">
				<property name="validationMessages.render" value="false" />
				<property name="items">
					<list>
						<ref bean="planner_planned_help_icon" />
					</list>
				</property>
			</bean>
		</property>
		<property name="cssClasses">
			<list merge="false">
				<value>myplan-carousel-term</value>
				<value>@{#line.termId.replaceAll("\.","-")}</value>
				<value>myplan-term-planned</value>
				<value>@{#line.planning ? 'myplan-term-fixed-height' : ''}</value>
				<value>ks-plan-Bucket</value>
			</list>
		</property>
		<property name="dataAttributes">
			<map merge="true">
				<entry key="plantype" value="planned" />
			</map>
		</property>
		<property name="footer">
			<bean parent="Uif-VerticalBoxGroup">
				<property name="validationMessages.render" value="false" />
				<property name="items">
					<list>
						<bean p:id="@{#line.uniqueId}_planned_add" parent="planner_quick_add">
							<property name="items[0].dataAttributes">
								<map merge="true">
									<entry key="backup" value="false" />
								</map>
							</property>
						</bean>
						<bean p:id="@{#line.uniqueId}_planned_no_courses" parent="planner_term_no_courses">
							<property name="cssClasses">
								<list merge="true">
									<value>ks-plan-Bucket-footer-@{#line.plannedList.size() eq 0 ? 'show' : 'hide'}"</value>
								</list>
							</property>
						</bean>
						<bean p:id="@{#line.uniqueId}_planned_units" parent="planner_credits_footer">
							<property name="cssClasses">
								<list merge="true">
									<value>ks-plan-Bucket-footer-@{#line.plannedList.size() gt 0 ? 'show' : 'hide'}"</value>
								</list>
							</property>
							<property name="items">
								<list merge="true">
									<bean parent="planner_term_total_credits_text" p:messageText="@{#line.plannedCreditString}" />
								</list>
							</property>
						</bean>
					</list>
				</property>
			</bean>
		</property>
	</bean>

	<bean id="planner_backup_collection" parent="planner_item_collection" p:headerText="Backup">
		<property name="propertyName" value="backupList" />
		<property name="validationMessages.render" value="false" />
		<property name="header.rightGroup">
			<bean parent="Uif-HorizontalBoxGroup" p:additionalCssClasses="ks-plan-Bucket-headerHelpIcons">
				<property name="validationMessages.render" value="false" />
				<property name="items">
					<list>
						<ref bean="planner_backup_help_icon" />
					</list>
				</property>
			</bean>
		</property>
		<property name="dataAttributes">
			<map merge="true">
				<entry key="plantype" value="backup" />
			</map>
		</property>
		<property name="cssClasses">
			<list merge="false">
				<value>myplan-carousel-term</value>
				<value>@{#line.termId.replaceAll("\.","-")}</value>
				<value>myplan-term-backup</value>
				<value>ks-plan-Bucket</value>
			</list>
		</property>
		<property name="footer">
			<bean parent="Uif-VerticalBoxGroup">
				<property name="validationMessages.render" value="false" />
				<property name="items">
					<list>
						<bean p:id="@{#line.uniqueId}_backup_add" parent="planner_quick_add">
							<property name="items[0].dataAttributes">
								<map merge="true">
									<entry key="backup" value="true" />
								</map>
							</property>
						</bean>
						<bean p:id="@{#line.uniqueId}_backup_no_courses" parent="planner_term_no_courses">
							<property name="cssClasses">
								<list merge="true">
									<value>ks-plan-Bucket-footer-@{#line.backupList.size() eq 0 ? 'show' : 'hide'}"</value>
								</list>
							</property>
						</bean>
					</list>
				</property>
			</bean>
		</property>
	</bean>

	<bean abstract="true" id="planner_term_no_courses" parent="Uif-VerticalBoxGroup">
		<property name="validationMessages.render" value="false" />
		<property name="cssClasses">
			<list merge="true">
				<value>no-courses-cell</value>
				<value>ks-plan-Bucket-emptyLabel</value>
			</list>
		</property>
		<property name="items">
			<list>
				<bean parent="Uif-Message" p:messageText="No courses planned">
					<property name="cssClasses">
						<list merge="true">
							<value>fl-text-gray</value>
							<value>myplan-text-italic</value>
						</list>
					</property>
				</bean>
			</list>
		</property>
	</bean>

	<bean abstract="true" id="planner_quick_add" parent="Uif-HorizontalBoxGroup">
		<property name="validationMessages.render" value="false" />
		<property name="cssClasses">
			<list merge="true">
				<value>quick-add-cell</value>
				<value>ks-plan-Bucket-addItem</value>
			</list>
		</property>
		<property name="items">
			<list>
				<bean parent="Uif-ActionLink" p:actionLabel="Add a course to plan"
						p:render="@{T(org.kuali.student.ap.framework.config.KsapFrameworkServiceLocator).getUserSessionHelper().isStudent()}"
						p:actionScript="ksapPlannerOpenDialog('planner_add_course', 'planner', 'startDialog', this, e);">
					<property name="dataAttributes">
						<map>
							<entry key="termid" value="@{#line.termId}" />
						</map>
					</property>
				</bean>
			</list>
		</property>
	</bean>

	<bean abstract="true" id="planner_credits_footer" parent="Uif-HorizontalBoxGroup">
		<property name="validationMessages.render" value="false" />
		<property name="cssClasses">
			<list merge="true">
				<value>myplan-carousel-term-total</value>
				<value>ks-plan-Bucket-credit</value>
			</list>
		</property>
		<property name="items">
			<list>
				<bean p:id="planner_term_total_credits_label" parent="Uif-MessageField"
						p:messageText="Units" p:cssClasses="ks-plan-Bucket-creditLabel" />
				<ref bean="planner_total_credits_help_icon" />
			</list>
		</property>
	</bean>
	
	<bean abstract="true" id="planner_term_total_credits_text" parent="Uif-MessageField">
		<property name="cssClasses">
			<list merge="true">
				<value>credits</value>
				<value>ks-plan-Bucket-creditCount</value>
			</list>
		</property>
	</bean>

	<bean abstract="true" id="planner_help_image" parent="Uif-HelpImage"
			p:source="@{#ConfigProperties['ks.myplan.externalizable.images.url']}iconHelp.png"
			p:altText="" p:title="">
		<property name="additionalCssClasses">
			<value>ks-Plan-helpimage</value>
		</property>
	</bean>

	<bean id="planner_completed_help_icon" parent="planner_help_image" p:render="@{#line.completed}">
		<property name="dataAttributes">
			<map>
				<entry key="helptext" value="Courses that you registered for in a term that is now complete." />
			</map>
		</property>
	</bean>

	<bean id="planner_registered_help_icon" parent="planner_help_image" p:render="@{!#line.completed}">
		<property name="dataAttributes">
			<map>
				<entry key="helptext" value="Courses you are enrolled in for the current or a future academic term." />
			</map>
		</property>
	</bean>

	<bean id="planner_cart_help_icon" parent="planner_help_image">
		<property name="dataAttributes">
			<map>
				<entry key="helptext" value="Items in the cart are those you have selected to register for but have not been submitted for registration yet." />
			</map>
		</property>
	</bean>

	<bean id="planner_planned_help_icon" parent="planner_help_image">
		<property name="dataAttributes">
			<map>
				<entry key="helptext" value="Planner allows you to add courses to your plan, but does not register you. Check the schedule of classes each term to verify whether your planned courses will be offered." />
			</map>
		</property>
	</bean>

	<bean id="planner_backup_help_icon" parent="planner_help_image">
		<property name="dataAttributes">
			<map>
				<entry key="helptext" value="Courses you are considering in case a planned course is full or unavailable." />
			</map>
		</property>
	</bean>

	<bean id="planner_total_credits_help_icon" parent="planner_help_image">
		<property name="dataAttributes">
			<map>
				<entry key="helptext" value="@{!#line.planning ? 'The number of units registered for a completed term. Check your transcript to verify completed units.' : (#line.academicRecord.size() gt 0 ? ' The total number of units from your planned and registered courses for the current term.' : 'The number of units you plan to enroll in for future term.')}" />
			</map>
		</property>
	</bean>

	<bean id="planner_cart_credits_help_icon" parent="MyPlanHelpImage" p:cssClasses="ks-plan-Bucket-creditHelpIcon">
		<property name="dataAttributes">
			<map>
				<entry key="helptext" value="The total number of units for all course currently in the shopping cart." />
			</map>
		</property>
	</bean>

</beans>
